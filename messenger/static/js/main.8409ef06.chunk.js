(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(e,t,a){e.exports=a(75)},49:function(e,t,a){},50:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);a(39),a(40);var n=a(0),r=a.n(n),c=a(20),l=a.n(c),s=a(12),o=a(4),i=function(e){return r.a.createElement(o.a,null,e.children)},u=(a(49),a(50),function(){return r.a.createElement("div",{className:"row LoginHeader"},r.a.createElement("nav",null,r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement(o.c,{to:"/",className:"brand-logo"},"Messenger"),r.a.createElement("ul",{id:"nav-mobile",className:"right hide-on-med-and-down"},r.a.createElement("li",null,r.a.createElement(o.c,{to:"/login"},"\u0412\u043e\u0439\u0442\u0438")),r.a.createElement("li",null,r.a.createElement(o.c,{to:"/register"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"))))))}),m=function(){return r.a.createElement("div",{className:"container"},r.a.createElement(u,null),r.a.createElement("div",{className:"row Home align-content-start"},r.a.createElement("h3",{className:"col s12"},"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c"),r.a.createElement("p",{className:"col s12"},r.a.createElement(o.c,{to:"/login"},"\u0412\u043e\u0439\u0434\u0438\u0442\u0435 "),"\u0438\u043b\u0438",r.a.createElement(o.c,{to:"/register"}," \u0441\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"))))},d=a(9),p=a(2),f=a(11),E=a.n(f),v=a(17),b="LOGIN_USER",g="USER_EXIT",h="USER_NEW_NAME",N="USER_NEW_MESS",w=a(13),j=a.n(w);a(70);var y=Object(p.b)(null,function(e){return{LoginUser:function(t){return e(function(e){return function(){var t=Object(v.a)(E.a.mark(function t(a){var n,r,c,l,s;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={},r=[],t.prev=2,t.next=5,j.a.post("https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key=AIzaSyD-ctZejTPwiu35s4F7ZydNru1fl7mXQpg",e);case 5:return c=t.sent,n.id=c.data.localId,localStorage.setItem("id",c.data.localId),t.next=10,j.a.get("https://reactmessenger-d938e.firebaseio.com/users/".concat(n.id,".json"));case 10:return l=t.sent,n.name=l.data.name,n.age=l.data.age,t.next=15,j.a.get("https://reactmessenger-d938e.firebaseio.com/chat.json");case 15:s=t.sent,r=s.data,t.next=23;break;case 19:return t.prev=19,t.t0=t.catch(2),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0445\u043e\u0434\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u043d\u043e\u0432\u0430"),t.abrupt("return",!1);case 23:a({type:b,user:n,chat:r});case 24:case"end":return t.stop()}},t,null,[[2,19]])}));return function(e){return t.apply(this,arguments)}}()}(t))}}})(function(e){var t=Object(n.useState)(""),a=Object(d.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(""),o=Object(d.a)(s,2),i=o[0],m=o[1];return r.a.createElement("div",{className:"container"},r.a.createElement(u,null),r.a.createElement("div",{className:"row Login"},r.a.createElement("div",{className:"col s8 offset-s2"},r.a.createElement("h3",null,"\u0412\u0445\u043e\u0434 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443"),r.a.createElement("form",null,r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:function(e){l(c=e.target.value)},value:c,id:"email",type:"email",className:"validate",required:!0}),r.a.createElement("label",{htmlFor:"email"},"Email")),r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{id:"password",minLength:"6",type:"text",className:"validate",required:!0,onChange:function(e){m(i=e.target.value)},value:i}),r.a.createElement("label",{htmlFor:"password"},"\u041f\u0430\u0440\u043e\u043b\u044c(\u043d\u0435 \u043c\u0435\u043d\u044c\u0448\u0435 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432)")),r.a.createElement("div",{className:"input-field col s8"},r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(t){t.preventDefault();var a={email:c,password:i,returnSecureToken:!0};e.LoginUser(a),l(c=""),m(i="")}},"\u0412\u043e\u0439\u0442\u0438"))))))});a(71);var O=Object(p.b)(null,function(e){return{RegisterNewUser:function(t){return e(function(e){return function(){var t=Object(v.a)(E.a.mark(function t(a){return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.a.post("https://www.googleapis.com/identitytoolkit/v3/relyingparty/signupNewUser?key=AIzaSyD-ctZejTPwiu35s4F7ZydNru1fl7mXQpg",e);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}));return function(e){return t.apply(this,arguments)}}()}(t))}}})(function(e){var t=Object(n.useState)(""),a=Object(d.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(""),o=Object(d.a)(s,2),i=o[0],m=o[1];return r.a.createElement("div",{className:"container"},r.a.createElement(u,null),r.a.createElement("div",{className:"row Register"},r.a.createElement("div",{className:"col s8 offset-s2"},r.a.createElement("h3",null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),r.a.createElement("form",null,r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:function(e){l(c=e.target.value)},value:c,id:"name",type:"email",className:"validate",required:!0}),r.a.createElement("label",{htmlFor:"name"},"Email")),r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{id:"password",type:"text",className:"validate",minLength:"6",onChange:function(e){m(i=e.target.value)},value:i}),r.a.createElement("label",{htmlFor:"password"},"\u041f\u0430\u0440\u043e\u043b\u044c(\u043d\u0435 \u043c\u0435\u043d\u044c\u0448\u0435 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432)")),r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(t){t.preventDefault();var a={email:c,password:i,returnSecureToken:!0};e.RegisterNewUser(a),l(c=""),m(i="")}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"))))))});var x=Object(p.b)(null,function(e){return{userExit:function(){return e(function(e){localStorage.removeItem("id"),e({type:g})})}}})(function(e){return console.log(e),r.a.createElement("button",{className:"waves-effect waves-light btn-small",onClick:function(){e.userExit()}},"Exit")});var S=Object(p.b)(null,function(e){return{userNewName:function(t){return e(function(e){return function(){var t=Object(v.a)(E.a.mark(function t(a){var n,r;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=T.getState().user.id,r={name:e},t.prev=2,t.next=5,j.a.patch("https://reactmessenger-d938e.firebaseio.com/users/".concat(n,".json"),r);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),console.log(t.t0);case 10:a({type:h,name:e});case 11:case"end":return t.stop()}},t,null,[[2,7]])}));return function(e){return t.apply(this,arguments)}}()}(t))}}})(function(e){var t=Object(n.useState)(""),a=Object(d.a)(t,2),c=a[0],l=a[1];return r.a.createElement("div",{className:"container"},r.a.createElement("h3",null,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0438\u043c\u0435\u043d\u0438"),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"input-field col s12 l10"},r.a.createElement("input",{id:"name",type:"text",className:"validate",onChange:function(e){return l(c=e.target.value)},value:c}),r.a.createElement("label",{htmlFor:"name"},"\u041d\u043e\u0432\u043e\u0435 \u0438\u043c\u044f"),r.a.createElement("button",{className:"btn btn-small",onClick:function(){e.userNewName(c),l(c="")}},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"))))});a(72);var k=Object(p.b)(function(e){return{chat:e.user.chat}},function(e){return{userNewMess:function(t){return e(function(e){return function(){var t=Object(v.a)(E.a.mark(function t(a){var n,r,c,l;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=T.getState().user.name,r={name:n,text:e},c=[],t.prev=3,t.next=6,j.a.get("https://reactmessenger-d938e.firebaseio.com/chat.json");case 6:return l=t.sent,(c=l.data).push(r),t.next=11,j.a.put("https://reactmessenger-d938e.firebaseio.com/chat.json",c);case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),console.log(t.t0);case 16:a({type:N,newChat:c});case 17:case"end":return t.stop()}},t,null,[[3,13]])}));return function(e){return t.apply(this,arguments)}}()}(t))}}})(function(e){var t=Object(n.useState)(""),a=Object(d.a)(t,2),c=a[0],l=a[1],s=e.chat.map(function(e,t){return r.a.createElement("p",{key:t,className:"collection-item"},e.name," : ",e.text)});return r.a.createElement("div",{className:"container Chat"},r.a.createElement("div",{className:"row ChatBody"},r.a.createElement("div",{className:"collection col s12 l12"},s)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{id:"new_name",type:"text",className:"validate",value:c,onChange:function(e){return l(c=e.target.value)}}),r.a.createElement("label",{htmlFor:"new_name"},"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435")),r.a.createElement("button",{className:"waves-effect waves-small btn",onClick:function(){e.userNewMess(c),l(c="")}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435")))});a(73);var I=Object(p.b)(function(e){return{name:e.user.name}})(function(e){return r.a.createElement("div",{className:"container UserPage"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 l4"},r.a.createElement("h3",null,e.name),r.a.createElement("div",{className:"collection"},r.a.createElement(o.b,{to:"/chat",className:"collection-item"},"\u0427\u0430\u0442"),r.a.createElement(o.b,{to:"/options",className:"collection-item"},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043f\u0440\u043e\u0444\u0438\u043b\u044f")),r.a.createElement(x,null)),r.a.createElement("div",{className:"col s12 l8"},r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/chat",component:k}),r.a.createElement(s.a,{path:"/options",component:S})))))});var C=Object(p.b)(function(e){return{userIndicator:e.user.userIndicator}})(function(e){var t=e.userIndicator||localStorage.getItem("id")?r.a.createElement(r.a.Fragment,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",component:I}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",exact:!0,component:m}),r.a.createElement(s.a,{path:"/login",extends:!0,component:y}),r.a.createElement(s.a,{path:"/register",component:O})));return r.a.createElement(i,null,t)}),F=(a(74),a(14)),U=a(37),_=a(18),L={id:localStorage.getItem("id"),name:"Some name",age:"25",chat:[],userIndicator:!1},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(_.a)({},e,{id:t.user.id,name:t.user.name,age:t.user.age,chat:t.chat,userIndicator:!0});case g:return Object(_.a)({},e,{userIndicator:!1,id:""});case h:return Object(_.a)({},e,{name:t.name});case N:return Object(_.a)({},e,{chat:t.newChat});default:return e}},M=Object(F.c)({user:R});a.d(t,"store",function(){return T});var T=Object(F.d)(M,Object(F.a)(U.a)),D=r.a.createElement(p.a,{store:T},r.a.createElement(C,null));l.a.render(D,document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.8409ef06.chunk.js.map